(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{"1e72":function(t,n,e){},"476d":function(t,n,e){"use strict";e("1e72")},74188:function(t,n,e){"use strict";e("dd4e")},"77b8":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"home"},[e("banner"),e("personalized-list"),e("personalized-song")],1)},s=[],a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"personalized-list"},[e("div",{staticClass:"list-title"},[e("span",{on:{click:t.handleOpenList}},[t._v("推荐歌单"),e("i",{staticClass:"el-icon-arrow-right"})])]),e("div",{staticClass:"list-content"},t._l(t.lists,(function(n){return e("div",{key:n.id,staticClass:"list-item"},[e("div",{staticClass:"item-cover"},[e("el-image",{key:n.picUrl,staticClass:"item-image",attrs:{src:n.picUrl,lazy:""}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中"),e("span",{staticClass:"dot"},[t._v("...")])]),e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])]),e("div",{staticClass:"item-count"},[e("i",{staticClass:"el-icon-caret-right"}),e("span",[t._v(t._s(t.getPlayCount(n)))])])],1),e("div",{staticClass:"item-info"},[e("span",[t._v(t._s(n.name))])])])})),0)])},r=[],o={name:"PersonalizedList",data:function(){return{lists:[]}},methods:{getPersonalizedList:function(){var t=this;this.$api.getPersonalized(24).then((function(n){t.lists=n.result})).catch((function(){return t.$message.error("获取推荐歌单出错")}))},getPlayCount:function(t){return t.playCount<1e4?t.playCount:Math.floor(t.playCount/1e4)+"万"},handleOpenList:function(){this.$router.push({name:"playlist"})}},mounted:function(){this.getPersonalizedList()}},l=o,c=(e("74188"),e("2877")),u=Object(c["a"])(l,a,r,!1,null,"30c25f21",null),f=u.exports,d=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"personalized-song"},[e("div",{staticClass:"song-title"},[e("span",{on:{click:t.handleOpenSong}},[t._v("最新音乐"),e("i",{staticClass:"el-icon-arrow-right"})])]),e("div",{staticClass:"song-content"},t._l(t.songList,(function(n,i){return e("div",{key:n.id,staticClass:"song-item",on:{mouseenter:function(n){return t.handleEnter(i)},mouseleave:t.handleLeave,click:function(n){return t.handlePlay(i)}}},[e("div",{staticClass:"song-index"},[t.focusItem===i?e("i",{staticClass:"el-icon-video-play play-icon"}):e("span",[t._v(t._s(i+1))])]),e("div",{staticClass:"song-cover"},[e("el-image",{key:n.picUrl,attrs:{src:n.picUrl,lazy:""}},[e("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[t._v(" 加载中"),e("span",{staticClass:"dot"},[t._v("...")])]),e("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[e("i",{staticClass:"el-icon-picture-outline"})])])],1),e("div",{staticClass:"song-info"},[e("div",{staticClass:"song-name"},[t._v(t._s(n.name))]),e("div",{staticClass:"song-singer"},[t._v(t._s(t.getSinger(n.song.artists)))])])])})),0)])},v=[];e("a4d3"),e("e01a"),e("d3b7"),e("d28b"),e("3ca3"),e("ddb0"),e("fb6a"),e("b0c0"),e("a630");function g(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}function h(t,n){if(t){if("string"===typeof t)return g(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?g(t,n):void 0}}function m(t,n){var e;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=h(t))||n&&t&&"number"===typeof t.length){e&&(t=e);var i=0,s=function(){};return{s:s,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,o=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return r=t.done,t},e:function(t){o=!0,a=t},f:function(){try{r||null==e["return"]||e["return"]()}finally{if(o)throw a}}}}var p=e("5530"),y=(e("a15b"),e("2f62")),b={name:"PersonalizedSong",data:function(){return{songList:[],focusItem:-1}},methods:Object(p["a"])(Object(p["a"])({},Object(y["b"])(["selectPlay"])),{},{handleOpenSong:function(){this.$router.push({name:"song"})},getPersonalizedSong:function(){var t=this;this.$api.getNewSongs(12).then((function(n){t.songList=n.result})).catch((function(){return t.$message.error("获取最新音乐出错")}))},getSinger:function(t){var n,e=[],i=m(t);try{for(i.s();!(n=i.n()).done;){var s=n.value;e.unshift(s.name)}}catch(a){i.e(a)}finally{i.f()}return e.join(" / ")},handleEnter:function(t){this.focusItem=t},handleLeave:function(){this.focusItem=-1},handlePlay:function(t){this.selectPlay({list:this.songList,index:t})}}),mounted:function(){this.getPersonalizedSong()}},C=b,_=(e("9dfe"),Object(c["a"])(C,d,v,!1,null,"21d556ab",null)),S=_.exports,w=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"banner"},[t.bannersInit?e("el-carousel",{attrs:{interval:4e3,type:"card"}},t._l(t.banners,(function(t){return e("el-carousel-item",{key:t.imageUrl},[e("img",{attrs:{src:t.imageUrl,alt:t.typeTitle}})])})),1):t._e()],1)},z=[],P={name:"Banner",data:function(){return{banners:[]}},computed:{bannersInit:function(){return this.banners.length}},methods:{getBanner:function(){var t=this;this.$api.getBanner().then((function(n){t.banners=n.banners})).catch((function(){return t.$message.error("获取轮播图出错")}))}},mounted:function(){this.getBanner()}},$=P,O=(e("476d"),Object(c["a"])($,w,z,!1,null,"3cc9aa7e",null)),L=O.exports,j={name:"home",components:{Banner:L,PersonalizedSong:S,PersonalizedList:f}},k=j,I=Object(c["a"])(k,i,s,!1,null,"636387d5",null);n["default"]=I.exports},"9a96":function(t,n,e){},"9dfe":function(t,n,e){"use strict";e("9a96")},a630:function(t,n,e){var i=e("23e7"),s=e("4df4"),a=e("1c7e"),r=!a((function(t){Array.from(t)}));i({target:"Array",stat:!0,forced:r},{from:s})},b0c0:function(t,n,e){var i=e("83ab"),s=e("9bf2").f,a=Function.prototype,r=a.toString,o=/^\s*function ([^ (]*)/,l="name";i&&!(l in a)&&s(a,l,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},d28b:function(t,n,e){var i=e("746f");i("iterator")},dd4e:function(t,n,e){},e01a:function(t,n,e){"use strict";var i=e("23e7"),s=e("83ab"),a=e("da84"),r=e("5135"),o=e("861d"),l=e("9bf2").f,c=e("e893"),u=a.Symbol;if(s&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var f={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),n=this instanceof d?new u(t):void 0===t?u():u(t);return""===t&&(f[n]=!0),n};c(d,u);var v=d.prototype=u.prototype;v.constructor=d;var g=v.toString,h="Symbol(test)"==String(u("test")),m=/^Symbol\((.*)\)[^)]+$/;l(v,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,n=g.call(t);if(r(f,t))return"";var e=h?n.slice(7,-1):n.replace(m,"$1");return""===e?void 0:e}}),i({global:!0,forced:!0},{Symbol:d})}}}]);
//# sourceMappingURL=home.6c853f70.js.map