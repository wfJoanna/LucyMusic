(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["PlaylistDetail"],{"16f2":function(t,i,a){},3830:function(t,i,a){"use strict";a("16f2")},"6fcc":function(t,i,a){"use strict";var s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"song-list",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},t._l(t.songList,(function(i,s){return a("div",{key:s,staticClass:"song-item",on:{mouseenter:function(i){return t.handleEnter(s)},mouseleave:t.handleLeave}},[a("div",{staticClass:"item-index"},[t._v(t._s(s+1))]),a("div",{staticClass:"item-cover"},[a("el-image",{staticClass:"item-image",attrs:{src:i.image,lazy:""}}),t.showBtn===s?a("div",{staticClass:"item-btn"},[a("i",{staticClass:"el-icon-video-play btn-icon",on:{click:function(i){return t.handlePlay(s)}}})]):t._e()],1),a("div",{staticClass:"item-name"},[t._v(t._s(i.name))]),a("div",{staticClass:"item-singer"},[t._v(t._s(i.singer))]),a("div",{staticClass:"item-album"},[t._v(t._s(i.album))]),a("div",{staticClass:"item-duration"},[t._v(t._s(t.toGetMS(i.duration)))])])})),0)},e=[],n=a("5530"),l=a("ca00"),c=a("2f62"),o={name:"SongList",props:{songList:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},data:function(){return{showBtn:-1}},methods:Object(n["a"])(Object(n["a"])({},Object(c["b"])(["selectPlay"])),{},{handlePlay:function(t){this.selectPlay({list:this.songList,index:t})},handleEnter:function(t){this.showBtn=t},handleLeave:function(){this.showBtn=-1},toGetMS:function(t){return Object(l["b"])(t)}})},r=o,d=(a("3830"),a("2877")),u=Object(d["a"])(r,s,e,!1,null,"64105db6",null);i["a"]=u.exports},"9be8":function(t,i,a){"use strict";a.r(i);var s=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"playlist-detail"},[a("div",{staticClass:"detail-top"},[a("div",{staticClass:"top-cover"},[a("el-image",{staticClass:"cover-image",attrs:{src:t.coverUrl,lazy:""}})],1),a("div",{staticClass:"top-info"},[a("div",{staticClass:"first-line"},[t._v(t._s(t.title))]),a("div",{staticClass:"second-line"},[a("el-avatar",{staticClass:"avatar",attrs:{src:t.avatar}}),a("span",{staticClass:"text"},[t._v(t._s(t.creator))]),a("span",{staticClass:"text"},[t._v(t._s(t.time)+"创建")])],1),a("div",{staticClass:"third-line"},[a("div",[t._v("标签：")]),t._l(t.tags,(function(i){return a("div",{staticClass:"tag",on:{click:function(a){return t.handleTag(i)}}},[t._v(t._s(i))])}))],2),a("div",{staticClass:"description"},[a("div",{staticClass:"short-desc"},[t._v(t._s(t.description))]),a("el-button",{attrs:{type:"text"},on:{click:function(i){t.dialogVisible=!0}}},[t._v("全部"),a("i",{staticClass:"el-icon-arrow-right"})]),a("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible},on:{"update:visible":function(i){t.dialogVisible=i}}},[t._v(t._s(t.description))])],1)])]),a("div",{staticClass:"detail-bottom"},[a("song-list",{attrs:{"song-list":t.playlist,loading:t.loading}})],1)])},e=[],n=a("5530"),l=(a("d3b7"),a("b0c0"),a("a4d3"),a("e01a"),a("d81d"),a("a15b"),a("2f62")),c=a("ca00"),o=a("6fcc"),r={name:"PlaylistDetail",components:{SongList:o["a"]},data:function(){return{listId:"",playlist:[],loading:!1,dialogVisible:!1,coverUrl:"",title:"",creator:"",avatar:"",time:"",tags:[],description:""}},methods:Object(n["a"])(Object(n["a"])({},Object(l["b"])(["getListDetail","getSongDetails"])),{},{getListDetails:function(){var t=this;this.loading=!0,this.getListDetail(this.listId).then((function(i){var a=i.playlist;t.coverUrl=a.coverImgUrl,t.title=a.name,t.creator=a.creator.nickname,t.avatar=a.creator.avatarUrl,t.time=Object(c["d"])(a.createTime),t.tags=a.tags,t.description=a.description;var s=[];a.trackIds.map((function(t){s.push(t.id)}));var e=s.join(",");t.getSongDetails(e).then((function(i){var a=[];i.songs.map((function(t){a.push(Object(c["a"])(t))})),t.playlist=a}))})).catch((function(){t.$message.error("获取歌单详情失败")})).finally((function(){t.loading=!1}))},handleTag:function(t){this.$router.push({name:"playlist",query:{tag:t}})}}),mounted:function(){this.listId=this.$route.query.id,this.getListDetails()}},d=r,u=(a("d783"),a("2877")),v=Object(u["a"])(d,s,e,!1,null,"73c36028",null);i["default"]=v.exports},b1fc:function(t,i,a){},d783:function(t,i,a){"use strict";a("b1fc")},d81d:function(t,i,a){"use strict";var s=a("23e7"),e=a("b727").map,n=a("1dde"),l=n("map");s({target:"Array",proto:!0,forced:!l},{map:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=PlaylistDetail.46471d21.js.map